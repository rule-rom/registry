# Принцип пропекания (Baking)

**Статус:** Public  
**Версия:** 1.0

---

## 🍞 Что такое «Пропекание»?

**Пропекание (Baking)** — это процесс фиксации интента в субстрате. После пропекания конфигурация становится неизменяемой и детерминированно исполняется на нейроморфном ядре.

### Аналогия из жизни

| Этап | Кулинария | Decima8 |
|------|-----------|---------|
| 1 | Замес теста | Подготовка EDN-контракта |
| 2 | Формовка | Компиляция в Bake Blob |
| 3 | **Пропекание** | **EV_BAKE()** — фиксация |
| 4 | Готовое изделие | Исполнение на Swarm |

---

## 🔄 Жизненный цикл интента

```
┌─────────────────────────────────────────────────────────┐
│  Intent Lifecycle                                       │
│                                                         │
│  ┌──────────┐    ┌──────────┐    ┌──────────────────┐  │
│  │  Human   │ →  │   EDN    │ →  │  Bake Blob       │  │
│  │  Intent  │    │ Contract │    │  (TLV encoded)   │  │
│  └──────────┘    └──────────┘    └──────────────────┘  │
│                                          ↓              │
│  ┌──────────┐    ┌──────────┐    ┌──────────────────┐  │
│  │  Swarm   │ ←  │  Fixed   │ ←  │   EV_BAKE()      │  │
│  │  Execute │    │  State   │    │   (Apply)        │  │
│  └──────────┘    └──────────┘    └──────────────────┘  │
└─────────────────────────────────────────────────────────┘
```

---

## 🧱 Уровни абстракции

### 1. Human Intent (Человеческое намерение)

Архитектор формулирует задачу на естественном языке + формальные ограничения.

### 2. EDN Contract (Формальный контракт)

Намерение переводится в EDN — читаемый машиной формат контрактов.

```edn
{:intent :safe-pointer-lifecycle
 :rules [{:match :call :name "free"}
         {:ensure-next :assignment :value "NULL"}]}
```

### 3. Bake Blob (Бинарная фиксация)

EDN компилируется в бинарный TLV-формат, готовый к загрузке в ядро.

**Что внутри Bake Blob:**
- Топология массива тайлов
- Параметры тайлов (пороги, затухание, домены)
- Матрицы весов
- Флаги маршрутизации

### 4. Fixed State (Пропечённое состояние)

После `EV_BAKE()` конфигурация становится неизменяемой на время исполнения.

---

## ⚡ Почему «Пропекание»?

| Свойство | Описание |
|----------|----------|
| **Неизменяемость** | После пропекания параметры не могут быть изменены без нового EV_BAKE() |
| **Детерминизм** | Одинаковый Bake Blob даёт одинаковое поведение на любом совместимом ядре |
| **Верифицируемость** | Bake Blob может быть аудируем до применения |
| **Эффективность** | Бинарный формат оптимизирован для быстрой загрузки и исполнения |

---

## 🔐 Доступ к деталям

Полная спецификация формата Bake Blob (TLV структуры, кодирование, CRC) доступна только участникам **Tier 3 (Industrialist)** и выше.

### Что скрыто в NDA:

- Точная структура TLV заголовков
- Форматы кодирования весов и порогов
- Алгоритмы расчёта CRC32
- Спецификация EV_BAKE() транзакции

---

## 📋 Ссылки

- [Boosty: Intent-Garden](https://boosty.to/intentgarden)
- [Иерархия Сварма](../spec/hierarchy.md)
- [Реестр Интентов](../registry/index.md)

---

**Bake the Future. Build the Substrate.** 🛠️⚡️
